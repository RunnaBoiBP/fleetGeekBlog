<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

  <!--radix_placeholder_meta_tags-->
  <title>An Application of Tidyverse in Data Analysis</title>
  
  <meta property="description" itemprop="description" content="A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio&#10;314: Ecology and Evolution at Georgetown College."/>
  
  
  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2019-05-02"/>
  <meta property="article:created" itemprop="dateCreated" content="2019-05-02"/>
  <meta name="article:author" content="Ben Peterson"/>
  
  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="An Application of Tidyverse in Data Analysis"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio&#10;314: Ecology and Evolution at Georgetown College."/>
  <meta property="og:locale" content="en_US"/>
  
  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="An Application of Tidyverse in Data Analysis"/>
  <meta property="twitter:description" content="A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio&#10;314: Ecology and Evolution at Georgetown College."/>
  
  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["An Application of Tidyverse in Data Analysis"]},{"type":"character","attributes":{},"value":["A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio\n314: Ecology and Evolution at Georgetown College.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url"]}},"value":[{"type":"character","attributes":{},"value":["Ben Peterson"]},{"type":"character","attributes":{},"value":["https://runnaboibp.github.io/fleetGeekBlog"]}]}]},{"type":"character","attributes":{},"value":["2019-05-02"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[false]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["studentGallData.xlsx","tidyverse-application_files/bowser-1.9.3/bowser.min.js","tidyverse-application_files/distill-2.2.21/template.v2.js","tidyverse-application_files/figure-html5/unnamed-chunk-2-1.png","tidyverse-application_files/figure-html5/unnamed-chunk-3-1.png","tidyverse-application_files/figure-html5/unnamed-chunk-4-1.png","tidyverse-application_files/figure-html5/unnamed-chunk-5-1.png","tidyverse-application_files/figure-html5/unnamed-chunk-7-1.png","tidyverse-application_files/figure-html5/unnamed-chunk-8-1.png","tidyverse-application_files/jquery-1.11.3/jquery.min.js","tidyverse-application_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->
  
  <style type="text/css">
  
  body {
    background-color: white;
  }
  
  .pandoc-table {
    width: 100%;
  }
  
  .pandoc-table>caption {
    margin-bottom: 10px;
  }
  
  .pandoc-table th:not([align]) {
    text-align: left;
  }
  
  .pagedtable-footer {
    font-size: 15px;
  }
  
  .html-widget {
    margin-bottom: 2.0em;
  }
  
  .l-screen-inset {
    padding-right: 16px;
  }
  
  .l-screen .caption {
    margin-left: 10px;
  }
  
  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .shaded .shaded-content {
    background: white;
  }
  
  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }
  
  .hidden {
    display: none !important;
  }
  
  d-article {
    padding-bottom: 30px;
  }
  
  d-appendix {
    padding-top: 30px;
  }
  
  d-article>p>img {
    width: 100%;
  }
  
  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }
  
  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  /* CSS for table of contents */
  
  .d-toc {
    color: rgba(0,0,0,0.8);
    font-size: 0.8em;
    line-height: 1em;
  }
  
  .d-toc-header {
    font-size: 0.6rem;
    font-weight: 400;
    color: rgba(0, 0, 0, 0.5);
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 1.3em;
  }
  
  .d-toc a {
    border-bottom: none;
  }
  
  .d-toc ul {
    padding-left: 0;
  }
  
  .d-toc li>ul {
    padding-top: 0.8em;
    padding-left: 16px;
    margin-bottom: 0.6em;
  }
  
  .d-toc ul,
  .d-toc li {
    list-style-type: none;
  }
  
  .d-toc li {
    margin-bottom: 0.9em;
  }
  
  .d-toc-separator {
    margin-top: 20px;
    margin-bottom: 2em;
  }
  
  .d-article-with-toc {
    border-top: none;
    padding-top: 0;
  }
  
  
  
  /* Tweak code blocks (note that this CSS is repeated above in an injection
     into the d-code shadow dom) */
  
  d-code {
    overflow-x: auto !important;
  }
  
  pre.d-code code.d-code {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }
  
  pre.text-output {
  
    font-size: 12px;
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  @media(min-width: 768px) {
  
  d-code {
    overflow-x: visible !important;
  }
  
  pre.d-code code.d-code  {
      padding-left: 18px;
      font-size: 14px;
  }
  pre.text-output {
    font-size: 14px;
  }
  }
  
  /* Figure */
  
  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }
  
  .figure img {
    width: 100%;
  }
  
  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }
  
  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }
  
  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }
  
  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }
  
  
  
  /* Tweak 1000px media break to show more text */
  
  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }
  
    .grid {
      grid-column-gap: 16px;
    }
  
    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }
  
  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }
  
    .grid {
      grid-column-gap: 32px;
    }
  }
  
  
  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */
  
  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }
  
  
  /* Social footer */
  
  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }
  
  .disqus-comments {
    margin-right: 30px;
  }
  
  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }
  
  #disqus_thread {
    margin-top: 30px;
  }
  
  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }
  
  .article-sharing a:hover {
    border-bottom: none;
  }
  
  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }
  
  .subscribe p {
    margin-bottom: 0.5em;
  }
  
  
  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }
  
  
  /* Improve display for browsers without grid (IE/Edge <= 15) */
  
  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }
  
  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }
  
  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }
  
  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }
  
  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }
  
  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }
  
  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }
  
  
  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }
  
  .downlevel .footnotes ol {
    padding-left: 13px;
  }
  
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }
  
  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }
  
  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }
  
  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;
  
    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;
  
    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }
  
  </style>
  
  <script type="application/javascript">
  
  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }
  
  // show body when load is complete
  function on_load_complete() {
  
    // set body to visible
    document.body.style.visibility = 'visible';
  
    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }
  
    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }
  
  function init_distill() {
  
    init_common();
  
    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);
  
    // create d-title
    $('.d-title').changeElementType('d-title');
  
    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);
  
    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();
  
    // move posts container into article
    $('.posts-container').appendTo($('d-article'));
  
    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');
  
    // create d-bibliography
    var bibliography = $('<d-bibliography></d-bibliography>');
    $('#distill-bibliography').wrap(bibliography);
  
    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;
  
    // replace citations with <d-cite>
    $('.citation').each(function(i, val) {
      appendix = true;
      var cites = $(this).attr('data-cites').split(" ");
      var dt_cite = $('<d-cite></d-cite>');
      dt_cite.attr('key', cites.join());
      $(this).replaceWith(dt_cite);
    });
    // remove refs
    $('#refs').remove();
  
    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();
  
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-toc a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });
  
    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');
  
    // replace code blocks with d-code
    $('pre>code').each(function(i, val) {
      var code = $(this);
      var pre = code.parent();
      var clz = "";
      var language = pre.attr('class');
      if (language) {
        // map unknown languages to "clike" (without this they just dissapear)
        if ($.inArray(language, ["bash", "clike", "css", "go", "html",
                                 "javascript", "js", "julia", "lua", "markdown",
                                 "markup", "mathml", "python", "svg", "xml"]) == -1)
          language = "clike";
        language = ' language="' + language + '"';
        var dt_code = $('<d-code block' + language + clz + '></d-code>');
        dt_code.text(code.text());
        pre.replaceWith(dt_code);
      } else {
        code.addClass('text-output').unwrap().changeElementType('pre');
      }
    });
  
    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {
  
      // capture layout
      var layout = $(this).attr('data-layout');
  
      // apply layout to markdown level block elements
      var elements = $(this).children().not('d-code, pre.text-output, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });
  
  
      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });
  
    // load distill framework
    load_distill_framework();
  
    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {
  
      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;
  
      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');
  
      // table of contents
      if (have_authors) // adjust border if we are in authors
        $('.d-toc').parent().addClass('d-article-with-toc');
  
      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');
  
      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }
  
      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');
  
      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");
  
      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }
  
       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }
  
      // inject pre code styles (can't do this with a global stylesheet b/c a shadow root is used)
      $('d-code').each(function(i, val) {
        var style = document.createElement('style');
        style.innerHTML = 'pre code { padding-left: 10px; font-size: 12px; border-left: 2px solid rgba(0,0,0,0.1); } ' +
                          '@media(min-width: 768px) { pre code { padding-left: 18px; font-size: 14px; } }';
        if (this.shadowRoot)
          this.shadowRoot.appendChild(style);
      });
  
      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();
  
      // clear polling timer
      clearInterval(tid);
  
      // show body now that everything is ready
      on_load_complete();
    }
  
    var tid = setInterval(distill_post_process, 50);
    distill_post_process();
  
  }
  
  function init_downlevel() {
  
    init_common();
  
     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));
  
    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
  
    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();
  
    // remove toc
    $('.d-toc-header').remove();
    $('.d-toc').remove();
    $('.d-toc-separator').remove();
  
    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });
  
  
    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);
  
    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);
  
    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();
  
    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();
  
    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));
  
    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });
  
    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));
  
    $('body').addClass('downlevel');
  
    on_load_complete();
  }
  
  
  function init_common() {
  
    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};
  
        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });
  
        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);
  
    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});
  
    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });
  
      }
    });
  
    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });
  
    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }
  
    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');
  
    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");
  
    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();
  
    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }
  
  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });
  
  </script>
  
  <!--/radix_placeholder_distill-->
  <script src="tidyverse-application_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="tidyverse-application_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="tidyverse-application_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="tidyverse-application_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"An Application of Tidyverse in Data Analysis","description":"A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio\n314: Ecology and Evolution at Georgetown College.","authors":[{"author":"Ben Peterson","authorURL":"https://runnaboibp.github.io/fleetGeekBlog","affiliation":"&nbsp;","affiliationURL":"#"}],"publishedDate":"2019-05-02T00:00:00.000-04:00","citationText":"Peterson, 2019"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>An Application of Tidyverse in Data Analysis</h1>
<p>A sample data tidying and analysis of the Goldenrod Gall Fly Larvae data from Bio 314: Ecology and Evolution at Georgetown College.</p>
</div>

<div class="d-byline">
  Ben Peterson <a href="https://runnaboibp.github.io/fleetGeekBlog" class="uri">https://runnaboibp.github.io/fleetGeekBlog</a> 
  
<br/>2019-05-02
</div>

<div class="d-article">
<h2 id="introduction">Introduction</h2>
<p>The Goldenrod Gall Fly (GF) is a species of fly that lays its eggs in the stem of the goldenrod plant. The larvae hatch and secrete a hormone that causes the stem to grow a woody bulge that the larvae use as shelter and food throughout the winter. The life of a gall fly larva is far from safe, however, as they have a number of predators that attack the galls. The predators we focus on in this experiment are the chickadee (C), the downy woodpecker (WP), and a species of parasitoid wasp (EG). The Bio 314 lab class traveled to a field next to Lane’s Run stream in Scott County and collected a sample of 428 galls, taking measurements on how high the gall was from the ground (gallHeight), the gall diameter (gallDiameter), the diameter of the hole in the gall if there was one (holeDiameter), and whether the gall was away from treeline by the water (&gt;3 feet) or near it (&lt;= 3 feet). Based on the diameter of the hole, the lab groups made conclusions on what caused the hole (expectedCause). This data was gathered into a Microsoft Excel Document and made available to me for this data analysis project.</p>
<h2 id="pre-analysis-tidying">Pre-Analysis Tidying</h2>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>The <strong>tidyverse</strong> package came in handy for the dataset, because the pipe (%&gt;%) operator and the <code>rename()</code> and <code>select()</code> functions from <strong>dplyr</strong> were used to create legal varaible names and select the variables desired in this data analysis. The ID column also did not have uniform identifier names, so a simple assignment to the set of numbers from 1 to 428 (the number of galls in the sample) fixed the naming issue.</p>
<h2 id="methods">Methods</h2>
<p>For this analysis, a linear model was used to see if there is a correlation between the height of the gall and the hole size, and another was used to determine whether there was a correlation between gall diameter and hole size. The results of these led to a third question–whether gall diameter could predict the expected cause of gall hole.</p>
<p>The variables used for this analysis were:</p>
<ul>
<li>gallHeight - the height of the gall from the ground (in cm)</li>
<li>gallDiameter - the diameter of the gall (in mm)</li>
<li>holeDiameter - the diameter of the hole found in the gall (in mm)</li>
<li>expectedCause - the expected cause of the hole found in the gall</li>
</ul>
<h2 id="results">Results</h2>
<h3 id="gall-height-versus-hole-diameter">Gall Height versus Hole Diameter</h3>
<div class="layout-chunk" data-layout="l-body">
<p><img src="tidyverse-application_files/figure-html5/unnamed-chunk-2-1.png" width="624" /></p>
</div>
<p>It does not appear as though there is a strong correlation between gall height and hole diameter. There appears to be a slight correlation, as hole diameter goes up, it appears that the gall height is lower than the smaller hole diameters. Now, for the model to find the regression equation:</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>
Call:
lm(formula = gallHeight ~ holeDiameter, data = studentGallData)

Residuals:
    Min      1Q  Median      3Q     Max 
-60.410 -12.354   1.119  11.619  78.090 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)   79.4104     1.2329  64.410   &lt;2e-16 ***
holeDiameter   0.1941     0.3263   0.595    0.552    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 18.98 on 360 degrees of freedom
  (66 observations deleted due to missingness)
Multiple R-squared:  0.0009817, Adjusted R-squared:  -0.001793 
F-statistic: 0.3538 on 1 and 360 DF,  p-value: 0.5524</code></pre>
</div>
<p>The linear model gave an R^2 value of 0.0009817. Remember that R^2 always falls between 0 and 1, with the magnitude of r showing the strength of correlation. Here, with R^2 only being 0.001, it backs up the inference that there is not a very strong correlation between gall height and hole diameter. We have a p-value of 0.5524, meaning that if the null is correct, then there is a 55% chance of getting an f-statistic of at least 0.3538. This means that we can not reject the null hypothesis, so we conclude that gall height does not play a role in the diameter of the hole found in the gall.</p>
<p>We can graph this using the <code>plotModel()</code> function from the <strong>mosaic</strong> package included in base R.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="tidyverse-application_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<p>As you can see, the graph supports this claim that gall height indeed does not tend to affect the hole diameter and thus the expected cause.</p>
<p>One theory that can be drawn from this is that predators do not tend to show a preference in the height of galls that they attack.</p>
<h3 id="gall-diameter-versus-hole-diameter">Gall Diameter versus Hole Diameter</h3>
<div class="layout-chunk" data-layout="l-body">
<p><img src="tidyverse-application_files/figure-html5/unnamed-chunk-5-1.png" width="624" /></p>
</div>
<p>It appears as though there may be a correlation between gall diameter and hole diameter. Now, for the model to find the regression equation:</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>
Call:
lm(formula = gallDiameter ~ holeDiameter, data = studentGallData)

Residuals:
     Min       1Q   Median       3Q      Max 
-13.7408  -2.0521   0.2592   2.7025  11.2592 

Coefficients:
             Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)  17.74076    0.22576  78.583  &lt; 2e-16 ***
holeDiameter  0.31134    0.05892   5.284 2.06e-07 ***
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 3.63 on 405 degrees of freedom
  (21 observations deleted due to missingness)
Multiple R-squared:  0.0645,    Adjusted R-squared:  0.06219 
F-statistic: 27.93 on 1 and 405 DF,  p-value: 2.065e-07</code></pre>
</div>
<p>This time, an R^2 value of 0.0645 was obtained. According to this model, there was a bit stronger of a correlation between the diameter of the gall and the diameter of the hole. However, the correlation is still not a very strong one. This correlation does make sense, as you would expect birds (which leave the larger holes) to go after larger sized galls because they are easier to spot. And the smaller galls tend to be attacked by parasitoid wasps, or have successful gall fly larvae emerge from it, which is shown by the scatterplot above. We also have a p-value of 2.065e-07, which is well below 0.05. This means that if the null hypothesis is correct, then there is a 2.065e-07 chance of getting an f-statistic at least as big as 27.93. Basically, there is enough statistical significance to reject the <span class="math inline">\(H_0\)</span> that there is no correlation between gall diameter and the diameter of the hole. We could infer then that gall diameter does play a factor in the diameter of the hole, which then allows a decision about the type of predator that attacked the gall.</p>
<h3 id="gall-diameter-versus-expected-cause">Gall Diameter versus Expected Cause</h3>
<p>The correlation between gall diameter and hole diameter led to the question of whether there was a relationship between the gall’s diameter and the expected cause of gall hole.</p>
<h4 id="numerical-analysis">Numerical Analysis</h4>
<p>First, the data was analyzed using the <code>favstats()</code> function from the <strong>mosaic</strong> package to find the spread of diameters for each group:</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>
  expectedCause min Q1 median   Q3  max     mean       sd   n missing
1             C  12 18     20 21.5 25.0 19.53333 2.848576  39       0
2            EG  10 15     18 20.0 24.0 17.39855 3.802650  69       0
3            GF  11 17     19 21.0 25.0 18.66667 3.812261  21       0
4            WP  11 18     20 22.0 25.5 20.00455 2.933120 110       0</code></pre>
</div>
<p>As you can see, the mean diameter of bird attacked (WP, C) galls, 19.75 ((20+19.5)/2), is higher than the mean diameter of non-bird attacked (GF, EG) galls, 18.5 ((19+18)/2). This can be analyzed using a density plot to support this difference of means claim.</p>
<h4 id="graphical-analysis">Graphical Analysis</h4>
<p>Next, the data was plotted using a density plot to see the gall diameters by expected cause:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="tidyverse-application_files/figure-html5/unnamed-chunk-8-1.png" width="624" data-distill-preview=1 /></p>
</div>
<p>The graph shows what was concluded from the numerical analysis, that the mean diameters of galls attacked by birds is higher than the mean diameters of galls attacked by wasps or that had successful gall fly larvae.</p>
<h3 id="statistical-significance">Statistical Significance</h3>
<p>An ANOVA (analysis of variance) was used to determine whether there was a statistically significant difference in the means of the groups. The overall group mean <span class="math inline">\(\mu\)</span> can be found using <code>favstats()</code>:</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>
 min Q1 median Q3 max     mean       sd   n missing
   4 16     19 21  29 18.46143 3.748032 407      21</code></pre>
</div>
<p>Here we have <span class="math inline">\(\mu\)</span> = 18.46.</p>
<p><span class="math inline">\(H_0\)</span>: There is no correlation between gall diameter and expected hole cause.</p>
<p><span class="math inline">\(H_a\)</span>: There is evidence that suggests there is a correlation between gall diameter and expected hole cause.</p>
<p>Here, the <code>lm()</code> function and the <code>anova()</code> function was used to calculate the significance.</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>
Call:
lm(formula = gallDiameter ~ expectedCause, data = studentGallData)

Residuals:
    Min      1Q  Median      3Q     Max 
-9.0045 -2.0045 -0.0045  2.3333  6.6014 

Coefficients:
                Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)      19.5333     0.5244  37.251   &lt;2e-16 ***
expectedCauseEG  -2.1348     0.6560  -3.254   0.0013 ** 
expectedCauseGF  -0.8667     0.8863  -0.978   0.3292    
expectedCauseWP   0.4712     0.6103   0.772   0.4408    
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1

Residual standard error: 3.275 on 235 degrees of freedom
  (189 observations deleted due to missingness)
Multiple R-squared:  0.1066,    Adjusted R-squared:  0.09516 
F-statistic: 9.344 on 3 and 235 DF,  p-value: 7.362e-06</code></pre>
<pre><code>
Analysis of Variance Table

Response: gallDiameter
               Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
expectedCause   3  300.59 100.197  9.3436 7.362e-06 ***
Residuals     235 2520.05  10.724                      
---
Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
</div>
<p>After running the analysis on the data, we found an F-statistic of 9.344, and a p-value very close to 0. The f-statistic is high, meaning there is significant evidence against <span class="math inline">\(H_0\)</span>, and the p-value is extremely low. Since 7.362e-06 &lt; 0.05, we can reject <span class="math inline">\(H_0\)</span> and say that there is evidence that Gall Diameter can determine the expected cause of hole found in the gall. The summary of the linear model showed high significance especially for Chickadee and Wasp mean diameter preference, as they had the greatest variance from the mean diameter of 18.46.</p>
<h2 id="conclusion">Conclusion</h2>
<p>The analysis done on the gall fly larva data determined that there is no significant evidence that gall height plays any factor in the predation preferences of birds and wasps. The linear regression model for gall diameter showed a slight correlation between gall diameter and hole diameter, which led to the question of if gall diameter could be used to predict the expected cause of attack. An ANOVA test and linear model summary were used to determine the significance of the difference in mean between the groups and the overall gall mean. This lead to the conclusion that gall diameter does indeed play a factor in the expected cause of attack. Likely, the larger galls are targeted more by birds, as we saw in the grahical analysis, because they are easier to spot by birds.</p>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
